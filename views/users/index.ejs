<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community</title>
</head>
<body>
    <%- include('../partials/_navbar.ejs') %>
    <main class="container">
        <h1>Explore Our Community</h1>
        <% if (!users || users.length === 0) { %>
            <p>No users yet. Be the first to join!</p>
            <% } else { %>
            <ul class="user-grid">
                <% users.forEach(user => { %>
                <li class="user-card">
                <div class="user-avatar">
                    <% if (user.avatar) { %>
                    <img src="<%= user.avatar %>" alt="<%= user.username %>'s avatar" />
                    <% } else { %>
                <div class="avatar-fallback"><%= (user.username || '?').charAt(0).toUpperCase() %></div>
                <% } %>
                </div>
                <div class="user-info">
                    <h2 class="user-name"><%= user.username %></h2>
                    <% if (user.bio) { %><p class="user-bio"><%= user.bio %></p><% } %>
                </div>
            </li>
            <% }) %>
            </ul>
        <% } %>
    </main>
</body>
</html>